function setup(){noCanvas(),input=new p5.AudioIn,input.start(),fft=new p5.FFT(.001),fft.setInput(input),peak=new p5.PeakDetect(60,80,.4),$("#upvolume").hide(),$("#downvolume").hide(),setTimeout(function(){$("#sound").fadeOut("250"),$("#upvolume").fadeIn("250"),$("#downvolume").fadeIn("250")},"5000")}function draw(){volume=fft.analyze(),vol=input.getLevel(),peak.update(fft),$("#upvolume").css("width",100*vol+"%"),$("#downvolume").css("width",100*vol+"%"),peak.isDetected&&adding()}function adding(){var a="asd"+numasd,b="."+a;$("body").append('<div id="dv" class="asd'+numasd+'"> </div>'),$(""+b).css("background-color",""+cols[colsel]),$(""+b).animate({width:"100%"},{duration:250,queue:!1,complete:function(){$(""+b).remove();var a="",c=$(this).css("backgroundColor"),d=c.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);delete d[0];for(var e=1;e<=3;++e)d[e]=parseInt(d[e]).toString(16),1==d[e].length&&(d[e]="0"+d[e]);a="#"+d.join(""),$("body").css("background-color",""+a),$("#yeho").css("color",""+cols[colsel]),$("#yeho").html(""+texts[floor(Math.random()*(texts.length-1))]),txtsel++,txtsel%=2}}),$(""+b).animate({height:"100%"},{duration:250,queue:!1}),colsel++,colsel%=2,numasd++}var cols=["#ffffff","#000000"],colsel=0,numasd=0,texts=["YEHOOO!!","YEHAAAA!!","HEEEEEE!!!","HOOOOO!!","WOHOOO!!","EEEEEE!!!"],txtsel=0,input,fft,peak;